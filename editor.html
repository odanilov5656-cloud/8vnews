<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Написать новость</title>
</head>
<body>
    <h1>Новая статья</h1>
    <input id="title" placeholder="Заголовок"><br><br>
    <textarea id="content" placeholder="Текст"></textarea><br><br>
    <input id="author" placeholder="Твой ник"><br><br>
    <button onclick="send()">Опубликовать</button>

    <script>
        async function send() {
            const data = {
                title: document.getElementById('title').value,
                content: document.getElementById('content').value,
                author: document.getElementById('author').value,
                category: 'Общее'
            };
            const res = await fetch('https://eightvnews.onrender.com/create-article', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            if (res.ok) { location.href = 'index.html'; }
            else { alert("Ошибка!"); }
        }
    </script>
</body>
</html>
