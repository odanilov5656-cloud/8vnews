<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Новая статья</title>
    <style>
        body { font-family: -apple-system, sans-serif; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        input, textarea { width: 100%; padding: 15px; margin: 10px 0; box-sizing: border-box; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; }
        button { width: 100%; padding: 15px; background: #27ae60; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Публикация</h1>
        <input id="title" placeholder="Заголовок">
        <textarea id="content" rows="10" placeholder="Текст статьи"></textarea>
        <input id="author" placeholder="Твое имя">
        <button onclick="send()">Опубликовать</button>
    </div>

    <script>
        async function send() {
            const data = {
                title: document.getElementById('title').value,
                content: document.getElementById('content').value,
                author: document.getElementById('author').value,
                category: 'Общее'
            };
            const res = await fetch('https://eightvnews.onrender.com/create-article', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            if (res.ok) { location.href = 'index.html'; }
            else { alert("Ошибка сохранения"); }
        }
    </script>
</body>
</html>
