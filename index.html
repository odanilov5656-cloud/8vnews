<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Daily News</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
        .news-card { background: white; padding: 15px; margin-bottom: 10px; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>Daily News</h1>
    <div id="status">üì° –ò—â–µ–º —Å—Ç–∞—Ç—å–∏...</div>
    <div id="news-list"></div>

    <script>
        const API = 'https://eightvnews.onrender.com';
        async function load() {
            try {
                let response = await fetch(`${API}/get-articles`);
                if (!response.ok) throw new Error();
                let data = await response.json();
                document.getElementById('status').style.display = 'none';
                document.getElementById('news-list').innerHTML = data.reverse().map(a => `
                    <div class="news-card">
                        <h2>${a.title}</h2>
                        <a href="article.html?id=${a.id}">–ß–∏—Ç–∞—Ç—å</a>
                    </div>
                `).join('');
            } catch (e) {
                document.getElementById('status').innerHTML = "–°–µ—Ä–≤–µ—Ä —Å–ø–∏—Ç, –∂–¥–µ–º 5 —Å–µ–∫—É–Ω–¥... <button onclick='location.reload()'>–û–±–Ω–æ–≤–∏—Ç—å</button>";
                setTimeout(load, 5000);
            }
        }
        load();
    </script>
</body>
</html>
