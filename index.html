<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily News</title>
    <style>
        /* –í–µ—Å—å CSS –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; margin: 0; padding: 0; }
        header { background-color: #2c3e50; color: white; padding: 1rem 0; text-align: center; }
        .container { max-width: 600px; margin: 20px auto; padding: 0 15px; }
        .btn { display: inline-block; background: #3498db; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-bottom: 20px; }
        .news-card { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 15px; }
        .news-card h3 { margin-top: 0; }
        .news-card a { color: #e67e22; text-decoration: none; font-weight: bold; }
        .empty-msg { text-align: center; color: #7f8c8d; margin-top: 50px; }
    </style>
</head>
<body>

<header>
    <h1>Daily News</h1>
</header>

<div class="container">
    <a href="editor.html" class="btn">+ –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
    <div id="status">üì° –ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div id="news-list"></div>
</div>

<script>
    const API_URL = 'https://eightvnews.onrender.com';

    async function load() {
        const container = document.getElementById('news-list');
        const status = document.getElementById('status');

        try {
            const response = await fetch(`${API_URL}/get-articles`);
            const articles = await response.json();
            
            status.style.display = 'none';

            if (articles.length === 0) {
                container.innerHTML = "<div class='empty-msg'>–ü–æ–∫–∞ –Ω–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π. –°—Ç–∞–Ω—å—Ç–µ –ø–µ—Ä–≤—ã–º –∞–≤—Ç–æ—Ä–æ–º!</div>";
                return;
            }

            container.innerHTML = articles.map(art => `
                <div class="news-card">
                    <h3>${art.title}</h3>
                    <p>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${art.category || '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'}</p>
                    <a href="article.html?id=${art.id}">–ß–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é ‚Üí</a>
                </div>
            `).join('');

        } catch (e) {
            status.innerHTML = "–û—à–∏–±–∫–∞ —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";
        }
    }
    window.onload = load;
</script>

</body>
</html>
